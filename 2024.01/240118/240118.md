

Combineì´ë€?
* ë¹„ë™ê¸°ì²˜ë¦¬ë¥¼ ë„ì™€ì£¼ëŠ” API
* Publisher ê°€ ë°ì´í„°ë¥¼ ë„˜ê²¨ì£¼ê³ , Subscriber ê°€ ë°›ëŠ”ë‹¤
ì½”ë“œì •ì˜
Publisher
public protocol Publisher {
    associatedtype Output
    associatedtype Failure : Error
    
    func receive<S>(subscriber: S)
    where S: Subscriber, Self.Failure == S.Failure, Self.Output == S.Input
}
extension Publisher {
    public func subscribe<S>(_ subscriber: S)
    where S : Subscriber, Self.Failure == S.Failure, Self.Output == S.Input
}
ì¶œì²˜: <https://nsios.tistory.com/181> [NamSì˜ iOSì¼ê¸°:í‹°ìŠ¤í† ë¦¬]
* Output íƒ€ì…, Failure íƒ€ì…ì„ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤
* subcribe<S> ë©”ì†Œë“œë¥¼ í†µí•´ì„œ subscriber ì™€ ì—°ê²°ì‹œí‚¤ê³ , receive<S> ëŠ” ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ëŠ”ë“¯
    * Always call this function instead of ``Publisher/receive(subscriber:) -> ê³µì‹ ë¬¸ì„œ
Subscriber
public protocol Subscriber: CustomCombineIdentifierConvertible {
  associatedtype Input
  associatedtype Failure: Error

  func receive(subscription: Subscription)

  func receive(_ input: Self.Input) -> Subscribers.Demand

  func receive(completion: Subscribers.Completion<Self.Failure>)
}

//subscription code
public protocol Subscription : Cancellable, CustomCombineIdentifierConvertible {
    func request(_ demand: Subscribers.Demand)
}
ì¶œì²˜: <https://nsios.tistory.com/181> [NamSì˜ iOSì¼ê¸°:í‹°ìŠ¤í† ë¦¬]
* ì—°ê²°ë˜ëŠ” Publisher ì™€ Input íƒ€ì…ê³¼ Failure íƒ€ì…ì´ ë™ì¼í•´ì•¼í•¨
* func receive(subscription: Subscription)
    * subscription ì˜ request ë¥¼ í˜¸ì¶œí•˜ì—¬, ê°’ì„ ìµœëŒ€ë¡œ ì–¼ë§ˆ ë°›ì„ ì§€ ì„¤ì •
        * unlimited, none, .max ë“±
* func receive(_ input: Self.Input) -> Subscribers.Demand
    * ê°’ì„ ìˆ˜ì‹ í•  ë•Œ í™œìš©ë˜ëŠ” í•¨ìˆ˜
    * Demand ë¥¼ ë¦¬í„´í•˜ë‹ˆê¹Œ ìˆ˜ìš”ì¡°ì •ë„ í•  ìˆ˜ ìˆìŒ
* func receive(completion: Subscribers.Completion<Self.Failure>)
    * ì™„ë£Œ ì´ë²¤íŠ¸ë¥¼ ë°›ì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
ì˜ˆì‹œì½”ë“œ
let pracPublisher = [1, 2, 3, 4, 5].publisher

class PracSubscriber : Subscriber {
    typealias Input = Int
    typealias Failure = Never
    
    func receive(subscription: Subscription) {
        subscription.request(.max(3))
    }
    
    func receive(_ input: Int) -> Subscribers.Demand {
        print(input)
        return .none
    }
    
    func receive(completion: Subscribers.Completion<Never>) {
        print(completion)
    }
}

let pracSubscriber = PracSubscriber()
pracPublisher.subscribe(pracSubscriber)
* publisher ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ê³  ì‹¶ì€ë°, publisher ì— ê°’ì„ ë„˜ê¸°ëŠ”ê²Œ ë§¤ìš° ë³µì¡í•´ì„œ .publisher ì‚¬ìš©
* subscriber ëŠ” ë§Œë“¤ì–´ë´„
ë°ì´í„°ì˜ íë¦„
ï¿¼
* subscribe ë¥¼ í†µí•´ Publisher ì™€ Subscriber ì˜ ë§Œë‚¨
* publisher ê°€ subscriber ì—ê²Œ subscription(êµ¬ë…ê¶Œ?) ì„ ì¤€ë‹¤
* subscriber ëŠ” subcription ì„ í†µí•´ì„œ ë°ì´í„° ìš”ì²­ì„ í•˜ê³ 
* publisher ëŠ” ë°ì´í„°ë¥¼ ë³´ë‚´ì£¼ê³ 
* ë§ˆì§€ë§‰ìœ¼ë¡œ ì™„ë£Œ ì´ë²¤íŠ¸ë„ ë³´ë‚´ì¤€ë‹¤
í˜„ì‹¤ Combine : Publish
<aside> ğŸ’¡ ìœ„ì˜ ê²ƒë“¤ì€ ë„ˆë¬´ ë²ˆê±°ë¡œì›Œì„œ ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ ë‹¤ ë§Œë“¤ì–´ ë†“ì•˜ë‹¤
</aside>
Rather than implementing theÂ PublisherÂ protocol yourself, you can create your own publisher by using one of several types provided by the Combine framework - <ê³µì‹ë¬¸ì„œ>
Subject
A publisher that exposes a method for outside callers to publish elements. â†’ ì™¸ë¶€ í˜¸ì¶œìê°€ ìš”ì†Œë¥¼ ë°œí–‰í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë¥¼ ë…¸ì¶œí•˜ëŠ” Publisher
* PassthroughSubject ****ê°’ì´ ë“¤ì–´ì˜¤ë©´ PassThrough(ë„˜ê²¨ì¤Œ)
* CurrentValueSubject ê¸°ë³¸ê°’ì„ í•˜ë‚˜ ê°€ì§€ê³  ìˆë‹¤
* send(_:) ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ ì´ë²¤íŠ¸ ê°’ì„ ì£¼ì…
* ì˜ˆì‹œì½”ë“œâ€¨// PassthroughSubject
* let passthrough = PassthroughSubject<String, Never>()
* passthrough
*     .sink { value in
*     print(value)
* }
* passthrough.send("Hi")
* 
* // CurrentValueSubject
* var currentvalue = CurrentValueSubject<String, Never>("Hi")
* currentvalue
*     .sink { value in
*     print(value)
* }
* currentvalue.send("Bye")
* 
* // ì´ëŸ°ê²ƒë„ ê°€ëŠ¥ -> Subjectì—ë‹¤ê°€ í¼ë¸”ë¦¬ì…” ì—°ê²°
* let publisher = ["!"].publisher
* publisher.subscribe(passthrough)
* 
Sequence.publisher
let arrayPublisher = [1, 2, 3, 4, 5].publisher
let subscription = arrayPublisher.sink { value in
    print("Recieved Value : \\(value)")
}
Convenience Publishers
* Just : ê°€ì¥ ë‹¨ìˆœ, ì—ëŸ¬ íƒ€ì… Neverâ€¨Just(1)
*   .sink { print("Just: \\($0)") }
* 
* Fail : fail ì„ ë‚´ë³´ëƒ„, ì²«ë²ˆì§¸ ì¸ìˆ˜ëŠ” ì—ëŸ¬ë¥¼ ë°©ì¶œí• ë•Œ ê°™ì´ ë°©ì¶œí•  ê°’
* Empty, Deffered, Future ëŠ” ë‹¤ìŒì—â€¦
@Published
class Weather {
    @Published var temperature: Double
    init(temperature: Double) {
        self.temperature = temperature
    }
}

let weather = Weather(temperature: 20)
cancellable = weather.$temperature
    .sink() {
        print ("Temperature now: \\($0)")
}
weather.temperature = 25
* @Published ê°€ ë¶™ì€ ê°’ì„ ê°ì‹œí•˜ì—¬ ë°”ë€Œë©´ subscriber ì—ê²Œ ìƒˆê°’ì„ ë„˜ê¸´ë‹¤
í˜„ì‹¤ Combine : Subscriber
Combine provides the following subscribers as operators on theÂ [Publisher](<https://developer.apple.com/documentation/combine/publisher>)Â type:
sink

